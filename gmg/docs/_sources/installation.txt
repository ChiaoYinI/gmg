.. _installation:

Installation
============

Pre-Installation
----------------

The simplest way to install gmg is to first install an Anaconda Python distribution: https://www.continuum.io/downloads
This should ensure you can install all the dependencies required on any platform (Linux, Mac, Windows)
using the Conda package manager. Additionally, you can create a separate conda environment to use when running gmg. This
will avoid any potential conflicts with your current system configuration.

It may be useful to create a new python2.7 conda environment e.g.::

    conda create -n py27-gmg python=2.7 anaconda

where -n dictates is what you want to name the environment. This environment can then be activated using:

    source activate py27-gmg

.. note::
    gmg is (for the time being) only tested on Ubuntu 14.04 Linux and macOS High Sierra operating systems.
    It is anticipated that issues may arise when trying to install on other distributions, particularly Windows.
    Please raise any information regarding installation problems on github.

Installation
------------

Step 1:
-------

Ensure your py27-gmg environment is active::

    source activate py27-gmg


Step 2: Install dependencies
----------------------------

GMG depends on several other packages to run. These are:

* `wxpython <http://wiki.wxpython.org/>`_
* `numpy <http://numpy.scipy.org/>`_
* `scipy <http://scipy.org/>`_
* `matplotlib <http://matplotlib.sourceforge.net/>`_
* `fatiando a terra <http://www.fatiando.org/>`_
* `ObsPy <http://docs.obspy.org/>`_

These dependencies can be installed in your py27 environment using the command::

    conda install wxpython numpy scipy matplotlib fatiando obspy


Step 3: Get gmg
---------------

Download or git clone the gmg github repository. To download, navigate to::

    https://github.com/btozer/gmg

Use the green *clone or download* button on the right hand side of the page to download a .zip of gmg. Unzip this
directory.

or simply use git on the command line::

    git clone https://github.com/btozer/gmg.git

Step 3: Install  gmg
--------------------

Run the following command in the dir where you have downloaded or git-cloned the gmg repository.

    pip install .

This will place gmg with your local anaconda python site-packages dir.

**Launching gmg**
-----------------

To start gmg the best way is to create an alias and export this e.g.::

    export alias gmg='python ~/anaconda3/envs/py27-gmg/lib/python2.7/site-packages/gmg/gmg.py'

or manually add this to your .bashrc or equivalent file (e.g. .bash_profile, .zshrc or .cshrc) e.g.::

    alias gmg='python ~/anaconda3/envs/py27-gmg/lib/python2.7/site-packages/gmg/gmg.py'

NB. for macOS users you may need to invoke pythonw instead of python if you receive the message::

    This program needs access to the screen. Please run with a
    Framework build of python, and only when you are logged in
    on the main display of your Mac.

i.e.::

    alias gmg='pythonw ~/anaconda3/envs/py27-gmg/lib/python2.7/site-packages/gmg/gmg.py'

Then you can (optionally) add the executable directory to your $PATH variable by repeating the progess. e.g.::

    export $PATH=$PATH:~/anaconda3/envs/py27-gmg/lib/python2.7/site-packages/gmg/

Now, in a fresh terminal, simple type "gmg" on the command line to launch the software. e.g.::

    gmg
